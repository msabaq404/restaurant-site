import{al as V,R as N,S as A,J as q,T as P,A as k,am as E,w as Y,H as x,Q as C,an as T,l as g,k as O,d as $,q as p,y as j,ao as z,ap as B,M as J,z as Q,aq as W,u as F,n as G,h as S,p as K,a4 as U,a as X}from"./runtime.CYit1XUc.js";import{e as Z}from"./template.SCQyI-TZ.js";const H=new Set,b=new Set;function se(e){for(var t=0;t<e.length;t++)H.add(e[t]);for(var a of b)a(e)}function m(e){var t=this,a=t.ownerDocument,l=e.type,i=e.composedPath?.()||[],r=i[0]||e.target,u=0,c=e.__root;if(c){var d=i.indexOf(c);if(d!==-1&&(t===document||t===window)){e.__root=t;return}var _=i.indexOf(t);if(_===-1)return;d<=_&&(u=d)}if(r=i[u]||e.target,r!==t){V(e,"currentTarget",{configurable:!0,get(){return r||a}});var w=P,o=k;N(null),A(null);try{for(var n,s=[];r!==null;){var h=r.assignedSlot||r.parentNode||r.host||null;try{var f=r["__"+l];if(f!=null&&(!r.disabled||e.target===r))if(q(f)){var[L,...M]=f;L.apply(r,[e,...M])}else f.call(r,e)}catch(y){n?s.push(y):n=y}if(e.cancelBubble||h===t||h===null)break;r=h}if(n){for(let y of s)queueMicrotask(()=>{throw y});throw n}}finally{e.__root=t,delete e.currentTarget,N(w),A(o)}}}const ee=["touchstart","touchmove"];function te(e){return ee.includes(e)}let D=!0;function oe(e,t){var a=t==null?"":typeof t=="object"?t+"":t;a!==(e.__t??=e.nodeValue)&&(e.__t=a,e.nodeValue=a+"")}function re(e,t){return I(e,t)}function ie(e,t){E(),t.intro=t.intro??!1;const a=t.target,l=S,i=p;try{for(var r=Y(a);r&&(r.nodeType!==8||r.data!==x);)r=C(r);if(!r)throw T;g(!0),O(r),$();const u=I(e,{...t,anchor:r});if(p===null||p.nodeType!==8||p.data!==j)throw z(),T;return g(!1),u}catch(u){if(u===T)return t.recover===!1&&B(),E(),J(a),g(!1),re(e,t);throw u}finally{g(l),O(i)}}const v=new Map;function I(e,{target:t,anchor:a,props:l={},events:i,context:r,intro:u=!0}){E();var c=new Set,d=o=>{for(var n=0;n<o.length;n++){var s=o[n];if(!c.has(s)){c.add(s);var h=te(s);t.addEventListener(s,m,{passive:h});var f=v.get(s);f===void 0?(document.addEventListener(s,m,{passive:h}),v.set(s,1)):v.set(s,f+1)}}};d(Q(H)),b.add(d);var _=void 0,w=W(()=>{var o=a??t.appendChild(F());return G(()=>{if(r){K({});var n=U;n.c=r}i&&(l.$$events=i),S&&Z(o,null),D=u,_=e(o,l)||{},D=!0,S&&(k.nodes_end=p),r&&X()}),()=>{for(var n of c){t.removeEventListener(n,m);var s=v.get(n);--s===0?(document.removeEventListener(n,m),v.delete(n)):v.set(n,s)}b.delete(d),o!==a&&o.parentNode?.removeChild(o)}});return R.set(_,w),_}let R=new WeakMap;function ue(e,t){const a=R.get(e);return a?(R.delete(e),a(t)):Promise.resolve()}export{D as a,se as d,ie as h,re as m,oe as s,ue as u};
